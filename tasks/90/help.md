1) Посчитайте префикс-функцию для шаблона.
2) Пройдитесь по тексту, поддерживая длину текущего совпадения.
3) Каждое полное совпадение увеличивает ответ.
