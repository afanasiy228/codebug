1) Используем бинарный поиск по ответу.
2) Проверку x * x >= n выполняем аккуратно, чтобы избежать переполнения.
