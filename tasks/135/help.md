1) Выполняем топологическую сортировку DAG.
2) dp[v] — число путей из 1 в v.
3) Для каждой дуги v -> to обновляем dp[to] в топологическом порядке.
