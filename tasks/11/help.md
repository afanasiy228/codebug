Используй BFS по клеткам, отмечай посещенные.
