1) Используем дерево отрезков для суммы.
2) Дерево строится один раз и обновляется при запросах второго типа.
3) Запрос суммы отвечает за O(log n).
