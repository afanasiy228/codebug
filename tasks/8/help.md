Классический бинпоиск по условию a[mid] <= x.
