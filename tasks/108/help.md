1) Используйте событийную ленту: +1 в l и -1 в r+1.
2) Отсортируйте события и точки.
3) Идём слева направо и накапливаем покрытие.
